<!doctype html>
<title>Gold Decision</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<h1>Gold Decision</h1>
<p id="b">Loading baselineâ€¦</p>
<label>Live price (USD/oz): <input id="p" type="number" step="0.01"></label>
<label>Live RSI(14): <input id="r" type="number" step="0.1"></label>
<button id="go">Decide</button>
<pre id="out"></pre>
<script>
(async () => {
  try {
    const j = await (await fetch('./latest.json', {cache:'no-store'})).json();
    document.getElementById('b').textContent =
      `As of ${j.as_of_trading_day} | close=${j.close} | MA20=${j.ma20} | MA50=${j.ma50} | ATR14=${j.atr14} | RSI14=${j.rsi14}`;
    window.BASELINE = j;
  } catch {
    document.getElementById('b').textContent = 'latest.json not found yet (run updater).';
  }
})();
document.getElementById('go').onclick = () => {
  const p = parseFloat(document.getElementById('p').value);
  const r = parseFloat(document.getElementById('r').value);
  document.getElementById('out').textContent = `TODO: apply rules with live price=${p}, live RSI=${r}`;
};
</script>
